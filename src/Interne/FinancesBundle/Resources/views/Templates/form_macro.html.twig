
{% macro switchScript() %}
    $(this).closest('.searchSwitch').find('.optionSearch').each(function(){
        if($(this).is(':visible'))
            $(this).hide();
        else
            $(this).show();
    });

{% endmacro %}

{% macro switchButton() %}
    {% import _self as macro %}
    <div class="mini ui icon button" onclick="{{ macro.switchScript() }}">
        <i class="exchange icon"></i>
    </div>
{% endmacro %}

{% macro input_number_switch(form_value, form_min, form_max) %}

    {% import _self as macro %}

    <div class="field">
        <label>{{ form_label(form_value) }}</label>
        <div class="searchSwitch">
            <div class="optionSearch" >
                <div class="input-group">
                    <table>
                        <tr>
                            <td>{{ form_widget(form_value, { 'attr': {'placeholder': "Fixe"}}) }}</td>
                            <td>
                                {{ macro.switchButton() }}
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="optionSearch" hidden>
                <div class="input-group">
                    <table>
                        <tr>
                            <td>{{ form_widget(form_min, { 'attr': {'placeholder': "De (minimum)"}}) }}</td>
                            <td rowspan="2">
                                {{ macro.switchButton() }}
                            </td>

                        </tr>
                        <tr>
                            <td>{{ form_widget(form_max, { 'attr': {'placeholder': "Ã  (maximum)"}}) }}</td>


                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
{% endmacro %}

{% macro input_date_switch(form_value, form_min, form_max) %}

    {% import _self as macro %}

    <div class="field">
        <label>{{ form_label(form_value) }}</label>
        <div class="searchSwitch">
            <div class="optionSearch" >
                <div class="input-group">
                    <table>
                        <tr>
                            <td>{{ form_widget(form_value) }}</td>
                            <td>
                                {{ macro.switchButton() }}
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="optionSearch" hidden>
                <div class="input-group">
                    <table>
                        <tr>
                            <td>Du</td>
                            <td>{{ form_widget(form_min) }}</td>
                            <td rowspan="2">
                                {{ macro.switchButton() }}
                            </td>
                        </tr>
                        <tr>
                            <td>au</td>
                            <td>{{ form_widget(form_max) }}</td>

                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
{% endmacro %}