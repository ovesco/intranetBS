{% extends "layout.html.twig" %}

{% block titre %}Facture N°{{ facture.id }}{% endblock %}

{% block content %}


<div class="ui grid">
    <div class="eight wide column">

        <h4 class="ui header">Détail de la facture N°{{ facture.id }}</h4>
        <table class="ui definition table">
            <tbody>
            <tr>
                <td>Statut</td>
                <td>
                    {% if facture.statut == 'ouverte' %}
                        <div class="ui label blue">
                            Ouverte
                        </div>
                    {% elseif facture.statut == 'payee' %}
                        <div class="ui label green">
                            Payée
                        </div>
                    {% else %}
                    {% endif %}

                </td>
            </tr>
            <tr>
                <td>Date de création</td>
                <td>{{ facture.dateCreation|date("d/m/Y") }}</td>
            </tr>



            <tr>
                <td>Date de payement</td>
                <td>
                    {% if facture.statut == 'payee' %}
                        {{ facture.datePayement|date("d/m/Y") }}
                    {% endif %}
                </td>
            </tr>
            </tbody>
        </table>
    </div>

</div>













                        <table class="ui table">
                            <thead>
                                <tr>
                                    <th rowspan="2">Résumé de la facture</th>
                                    <th rowspan="2">Dates</th>
                                    <th colspan="2">Montants</th>

                                </tr>
                                <tr>

                                    <th>Emis</th>
                                    <th>Reçu</th>

                                </tr>
                            </thead>
                            <tbody>




                            {% for creance in facture.creances %}
                                <tr>
                                    <td>{{ creance.titre }}</td>
                                    <td>{{ creance.dateCreation|date("d/m/Y") }} </td>
                                    <td>{{ creance.montantEmis|number_format(2, '.', ',') }} </td>
                                    <td>{{ creance.montantRecu|number_format(2, '.', ',') }} </td>
                                </tr>

                            {% endfor %}


                                {% for rappel in facture.rappels %}
                                    <tr>
                                        <td>Rappel N°{{ loop.index }}</td>
                                        <td>{{ rappel.date|date("m/d/Y") }} </td>
                                        <td>{{ rappel.frais|number_format(2, '.', ',') }} </td>
                                        <td>{{ rappel.montantRecu|number_format(2, '.', ',') }}</td>
                                    </tr>

                                {% endfor %}
                                <tr>
                                    <td>Montant Total</td>
                                    <td> </td>
                                    <td>{{ facture.montantTotal|number_format(2, '.', ',') }}</td>
                                    <td>{{ facture.montantRecu|number_format(2, '.', ',') }}</td>
                                </tr>



                            </tbody>
                        </table>
                    </div>



                </div>
            </div>
    </div>



    {% endblock %}

    {% block javascript %}

    <script type="text/javascript">


    </script>

{% endblock %}